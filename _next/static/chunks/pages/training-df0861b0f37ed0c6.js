(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[546],{1320:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/training",function(){return t(2191)}])},3024:function(e,n,t){"use strict";var r=t(2322),i=t(2784),a=t(6897),o=t(5665),s=t(2197),c=t(5801),l=t(5186),u=t(2279),d=t(7550),g=t(3927),f=t(1721),h=t(422),p=t(5873),x=t(4117),m=t(5073),j=t(8675),b=t(5632);function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(c){s=!0,i=c}finally{try{o||null==t.return||t.return()}finally{if(s)throw i}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=[{name:"Entrenamiento",path:"/training"},{name:"Perfil",path:"/profile"},{name:"Salir",path:"/logout"}];n.Z=function(e){var n=e.title,t=e.children,v=e.back,w=void 0!==v&&v,D=e.backLink,S=void 0===D?"":D,T=(0,b.useRouter)(),C=y(i.useState(!1),2),k=C[0],_=C[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Z,{position:"static",sx:{mb:2},children:(0,r.jsxs)(o.Z,{children:[w&&(0,r.jsx)(c.Z,{sx:{mr:2,color:"primary.contrastText"},onClick:function(){return T.push(S)},children:(0,r.jsx)(l.KYK,{})}),(0,r.jsx)(s.Z,{variant:"h6",component:"span",sx:{flexGrow:1},children:n}),(0,r.jsx)(c.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:function(){return _(!0)},children:(0,r.jsx)(l.xXU,{})})]})}),(0,r.jsx)(u.ZP,{anchor:"right",open:k,onClose:function(){return _(!1)},children:(0,r.jsxs)(d.Z,{sx:{width:200},role:"presentation",onClick:function(){return _(!1)},onKeyDown:function(){return _(!1)},children:[(0,r.jsx)(g.Z,{sx:{width:"100%"},justifyContent:"center",alignItems:"center",children:(0,r.jsx)("img",{src:"/assets/logo.webp",alt:"logo",style:{objectFit:"contain"}})}),(0,r.jsx)(f.Z,{}),(0,r.jsx)(h.Z,{children:Z.map((function(e,n){return(0,r.jsx)(p.ZP,{disablePadding:!0,children:(0,r.jsx)(x.Z,{onClick:function(){return T.push(e.path)},children:(0,r.jsx)(m.Z,{primary:e.name})})},"nav-".concat(n))}))})]})}),(0,r.jsx)(j.Z,{children:t})]})}},2191:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k}});var r=t(2322),i=t(558),a=t(794),o=t(7550),s=t(1721),c=t(422),l=t(5873),u=t(4117),d=t(2784),g=t(6890),f=t(2146),h=t(3927),p=t(2197);function x(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function m(e){x(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===n?new Date(e.getTime()):"number"===typeof e||"[object Number]"===n?new Date(e):("string"!==typeof e&&"[object String]"!==n||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function j(e){var n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),e.getTime()-n.getTime()}function b(e){x(1,arguments);var n=m(e);return n.setHours(0,0,0,0),n}var v=864e5;function y(e,n){x(2,arguments);var t=b(e),r=b(n),i=t.getTime()-j(t),a=r.getTime()-j(r);return Math.round((i-a)/v)}function Z(e,n){var t=e.getFullYear()-n.getFullYear()||e.getMonth()-n.getMonth()||e.getDate()-n.getDate()||e.getHours()-n.getHours()||e.getMinutes()-n.getMinutes()||e.getSeconds()-n.getSeconds()||e.getMilliseconds()-n.getMilliseconds();return t<0?-1:t>0?1:t}var w=t(5632);function D(){var e,n,t=(e=["\n    query Profile {\n        profile {\n            trainingplan {\n                name\n                expirationDate\n                days {\n                    name\n                    exercises {\n                        reps\n                        sets\n                        exercise {\n                            _id\n                            name\n                            nameEs\n                            muscleGroup\n                            photo\n                            video\n                        }\n                    }\n                }\n            }\n        }\n    }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return D=function(){return t},t}var S=(0,i.Ps)(D()),T=function(){var e=(0,w.useRouter)(),n=(0,d.useState)(),t=n[0],i=n[1],j=(0,a.a)(S),b=j.data,v=j.loading,D=j.error,T=(0,d.useState)(),C=T[0],k=T[1];return(0,d.useEffect)((function(){if(!v){var e=b.profile.trainingplan;if(i(e),null===e||void 0===e?void 0:e.expirationDate){var n=(new Date).toISOString().slice(0,10),t=new Date(n),r=function(e,n){x(2,arguments);var t=m(e),r=m(n),i=Z(t,r),a=Math.abs(y(t,r));t.setDate(t.getDate()-i*a);var o=Number(Z(t,r)===-i),s=i*(a-o);return 0===s?0:s}(new Date(e.expirationDate),t);k(r)}}}),[v]),v?(0,r.jsx)(g.Z,{}):D?(0,r.jsx)("p",{children:"Hay un problema con tu plan. Contacte con tu entrenador"}):t?void 0!==C&&C<0?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("p",{children:"Tu plan aun no est\xe1 disponible. Para contratarlo contacta con tu entrenador."})}):(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(p.Z,{variant:"h5",sx:{textAlign:"center",p:2},children:t.name}),(0,r.jsx)(s.Z,{sx:{mb:2}}),t.days.map((function(n,t){return(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(p.Z,{variant:"h6",sx:{backgroundColor:"primary.light",color:"primary.contrastText",textAlign:"center",borderRadius:20,p:1},children:n.name}),(0,r.jsx)(c.Z,{children:n.exercises.map((function(n,i){return(0,r.jsx)(l.ZP,{disablePadding:!0,children:(0,r.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:2,sx:{width:"100%"},children:[(0,r.jsx)(u.Z,{disableGutters:!0,onClick:function(){return e.push("/training/"+n.exercise._id)},sx:{pl:1,pr:1},children:(0,r.jsx)(o.Z,{sx:{flex:1},children:n.exercise.nameEs||n.exercise.name})}),(0,r.jsxs)(o.Z,{sx:{whiteSpace:"nowrap",textAlign:"right",ml:2},children:[n.sets," X ",n.reps]})]})},"day-".concat(t,"-exercise-").concat(i))}))}),(0,r.jsx)(s.Z,{sx:{mb:2}})]},"day-".concat(t))})),void 0!==C&&C>0&&(0,r.jsxs)(f.Z,{severity:"info",children:["Tu entrenamiento est\xe1 programado para un mes, ponte en contacto con tu entrenador para el siguiente plan de entrenamiento. (Tu plan sigue disponible durante )",C," d\xedas"]}),void 0!==C&&0===C&&(0,r.jsx)(f.Z,{severity:"info",children:"Hoy es tu \xfaltimo d\xeda"})]}):(0,r.jsx)(f.Z,{severity:"warning",children:"No Data"})},C=t(3024),k=function(){return(0,r.jsxs)(C.Z,{title:"Entrenamiento",children:[(0,r.jsx)(T,{}),(0,r.jsx)(o.Z,{style:{marginBottom:120}}),(0,r.jsx)(o.Z,{sx:{position:"fixed",bottom:5,right:5,opacity:.5,zIndex:99},children:(0,r.jsx)("img",{src:"/assets/logo.webp",alt:"...",style:{maxWidth:100,maxHeight:100}})})]})}},6890:function(e,n,t){"use strict";var r=t(2322),i=t(3927),a=t(2841);n.Z=function(){return(0,r.jsx)(i.Z,{justifyContent:"center",alignItems:"center",style:{height:"calc(100vh - 100px)"},children:(0,r.jsx)(a.Z,{})})}}},function(e){e.O(0,[424,800,859,146,774,888,179],(function(){return n=1320,e(e.s=n);var n}));var n=e.O();_N_E=n}]);